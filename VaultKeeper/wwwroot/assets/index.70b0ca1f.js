var ne=Object.defineProperty;var j=Object.getOwnPropertySymbols;var ie=Object.prototype.hasOwnProperty,ce=Object.prototype.propertyIsEnumerable;var B=(a,e,o)=>e in a?ne(a,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):a[e]=o,L=(a,e)=>{for(var o in e||(e={}))ie.call(e,o)&&B(a,o,e[o]);if(j)for(var o of j(e))ce.call(e,o)&&B(a,o,e[o]);return a};import{r as re,c as b,a as y,o as d,b as u,d as t,e as w,F as q,f as le,S as U,u as O,g as K,M as k,w as M,h as f,v as $,p as C,i as V,j as z,k as de,t as m,l as D,m as H,n as G,q as ue,s as _e,x as ve,y as pe,z as me,A as fe,O as ge,B as he}from"./vendor.2a972c33.js";const be=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function o(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerpolicy&&(r.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?r.credentials="include":n.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(n){if(n.ep)return;n.ep=!0;const r=o(n);fetch(n.href,r)}};be();const i=re({user:{},account:{},keeps:[],vaultkeeps:[],vaults:[],activeVault:{},activeKeep:{},activeUser:{},loading:!1,myVaults:[]});var g=(a,e)=>{for(const[o,s]of e)a[o]=s;return a};const ye={name:"App",setup(){return{appState:b(()=>i)}}},we={class:"row m-0 scrollbar background"},ke=t("footer",null,null,-1);function xe(a,e,o,s,n,r){const c=y("Navbar"),l=y("router-view"),T=y("KeepModal"),se=y("CreateKeepModal"),oe=y("CreateVaultModal"),ae=y("Edit-Profile-Offcanvas");return d(),u(q,null,[t("header",null,[w(c)]),t("main",null,[t("div",we,[w(l)])]),ke,w(T),w(se),w(oe),w(ae)],64)}var $e=g(ye,[["render",xe]]);const Y=window.location.origin.includes("localhost"),W=Y?"https://localhost:5001":"",Ke="lucas-codeworks.us.auth0.com",Ce="oSkktRDu9X4acAgJe2G1SrNMFnaeyy3N",Ve="https://GregsList.com";function P(a,e){if(Y)console[a](`[${a}] :: ${new Date().toLocaleTimeString()} :: `,...e);else{switch(a){case"log":case"assert":return}console[a](`[${a}] :: ${new Date().toLocaleTimeString()} :: `,...e)}}const _={log(){P("log",arguments)},error(){P("error",arguments)},warn(){P("warn",arguments)},assert(){P("assert",arguments)},trace(){P("trace",arguments)}},v=le.create({baseURL:W,timeout:8e3});class x{static async confirm(e="Are you sure?",o="You won't be able to revert this!",s="warning",n="Yes, delete it!"){try{return!!(await U.fire({title:e,text:o,icon:s,showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:n})).isConfirmed}catch{return!1}}static toast(e="Warning!",o="warning",s="top-end",n=3e3,r=!0){U.fire({title:e,icon:o,position:s,timer:n,timerProgressBar:r,toast:!0,showConfirmButton:!1})}}class Pe{async GetAllKeeps(){const e=await v.get("api/keeps");_.log(e.data),i.keeps=e.data,A.sort("mostRecent")}async setActive(e){i.activeKeep=e;const o=await v.get(`api/keeps/${e.id}`);_.log(o.data),i.activeKeep=o.data}async createKeep(e){const o=await v.post("api/keeps",e);i.keeps.unshift(o.data)}async deleteKeep(){await v.delete(`api/keeps/${i.activeKeep.id}`),i.keeps=i.keeps.filter(e=>e.id!=i.activeKeep.id),i.activeKeep={},x.toast("Deleted","success")}sort(e){let o=[];e=="mostRecent"?(_.log("mostRecent"),o=i.keeps.sort(function(s,n){return new Date(n.createdAt).getTime()-new Date(s.createdAt).getTime()})):e==="oldest"?(console.log(e),o=i.keeps.sort(function(s,n){return new Date(s.createdAt).getTime()-new Date(n.createdAt).getTime()})):e=="aToZ"?(console.log(e),o=i.keeps.sort(function(s,n){return s.name<n.name?-1:s.name>n.name?1:0})):e=="zToA"?(console.log(e),o=i.keeps.sort(function(s,n){return s.name>n.name?-1:s.name<n.name?1:0})):e=="mostViews"?(console.log(e),o=i.keeps.sort(function(s,n){return s.views>n.views?-1:n.views<s.views?1:0})):e=="leastViews"?(console.log(e),o=i.keeps.sort(function(s,n){return s.views>n.views?1:n.views<s.views?-1:0})):e=="mostKeeps"?(console.log(e),o=i.keeps.sort(function(s,n){return s.keeps>n.keeps?-1:n.keeps<s.keeps?1:0})):e=="leastKeeps"&&(console.log(e),o=i.keeps.sort(function(s,n){return s.keeps>n.keeps?1:n.keeps<s.keeps?-1:0})),i.keeps=o,console.log(i.keeps)}}const A=new Pe;class Ae{async setupVaultPage(e){const o=await this.getVaultById(e),s=await this.getKeepsByVaultId(e);i.activeVault=o,i.keeps=s,this.sort("mostRecent"),A.sort("mostRecent")}async getVaultById(e){const o=await v.get(`api/vaults/${e}`);return _.log("Vault",o.data),o.data}async getKeepsByVaultId(e){const o=await v.get(`api/vaults/${e}/keeps`);return _.log("Keeps",o.data),o.data}async GetMyVaults(){const e=await v.get("account/vaults");_.log("My Vaults",e.data),i.myVaults=e.data}async createVault(e){e.isPrivate=="true"?e.isPrivate=!0:e.isPrivate=!1,_.log("Vaultey",e);const o=await v.post("api/vaults",e);_.log("New Vault",o.data),i.vaults.unshift(o.data),i.myVaults.unshift(o.data)}async deleteVault(e){_.log("HELWODO",e),await v.delete(`api/vaults/${e}`)}sort(e){let o=[];e=="mostRecent"?(_.log("mostRecent"),o=i.vaults.sort(function(s,n){return new Date(n.createdAt).getTime()-new Date(s.createdAt).getTime()})):e==="oldest"?o=i.vaults.sort(function(s,n){return new Date(s.createdAt).getTime()-new Date(n.createdAt).getTime()}):e=="aToZ"?o=i.vaults.sort(function(s,n){return s.name<n.name?-1:s.name>n.name?1:0}):e=="zToA"?o=i.vaults.sort(function(s,n){return s.name>n.name?-1:s.name<n.name?1:0}):e=="private"?o=i.vaults.sort(function(s,n){return s.isPrivate==!0?-1:s.isPrivate==!1?1:0}):e=="public"&&(o=i.vaults.sort(function(s,n){return s.isPrivate==!1?-1:s.isPrivate==!0?1:0})),i.vaults=o}}const F=new Ae;const Te={setup(){const a=O(),e=K({}),o=K(!1);return{info:e,router:a,submitting:o,async Create(){o.value=!0,_.log(e.value),await A.createKeep(e.value),k.getOrCreateInstance(document.getElementById("CreateKeep")).hide(),e.value={},o.value=!1},async RouteToCreatorPage(){var s;k.getOrCreateInstance(document.getElementById("CreateKeep")).hide(),a.push({name:"Account",params:{accountId:(s=i.activeKeep.creator)==null?void 0:s.id}})},activeKeep:b(()=>i.activeKeep)}}},S=a=>(C("data-v-91464a2e"),a=a(),V(),a),Se={class:"modal fade bd-example-modal-sm",id:"CreateKeep"},Ee={class:"modal-dialog modal-sm"},Ie={class:"modal-content bg-secondary"},Oe=S(()=>t("div",{class:"modal-header"},[t("div",{class:"modal-title"},[t("div",{class:"input"},"Create Keep")]),t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),Me={class:"modal-body"},De={class:"container-fluid"},Re={class:"row"},Ne={class:"col-12"},je=S(()=>t("div",{class:"input text-center"},"Keep Name",-1)),Be=S(()=>t("div",{class:"input text-center"},"Keep Description",-1)),Le=S(()=>t("div",{class:"input text-center"},"Keep Image",-1)),qe={class:"modal-footer"},Ue=["disabled"];function ze(a,e,o,s,n,r){return d(),u("div",Se,[t("div",Ee,[t("div",Ie,[t("form",{onSubmit:e[3]||(e[3]=M(c=>s.Create(),["prevent"]))},[Oe,t("div",Me,[t("div",De,[t("div",Re,[t("div",Ne,[je,f(t("input",{type:"text",required:"",placeholder:"Keep Name ...",class:"form-control","onUpdate:modelValue":e[0]||(e[0]=c=>s.info.name=c),maxlength:"60",minlength:"1"},null,512),[[$,s.info.name]]),Be,f(t("input",{type:"text",required:"",placeholder:"Keep Description ...",class:"form-control","onUpdate:modelValue":e[1]||(e[1]=c=>s.info.description=c),maxlength:"600",minlength:"1"},null,512),[[$,s.info.description]]),Le,f(t("input",{type:"text",required:"",placeholder:"Keep Img...",class:"form-control","onUpdate:modelValue":e[2]||(e[2]=c=>s.info.img=c)},null,512),[[$,s.info.img]])])])])]),t("div",qe,[t("button",{class:"btn btn-success",title:"Create Keep",type:"submit",disabled:s.submitting=!1}," Submit ",8,Ue)])],32)])])])}var He=g(Te,[["render",ze],["__scopeId","data-v-91464a2e"]]),Ge=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:He});const Ye={setup(){const a=K({}),e=K(!1);return{info:a,submitting:e,async CreateVault(){e.value=!0,await F.createVault(a.value),k.getOrCreateInstance(document.getElementById("CreateVault")).toggle(),a.value={},e.value=!1}}}},We={class:"modal fade bd-example-modal-sm",id:"CreateVault"},Fe={class:"modal-dialog modal-sm"},Ze={class:"modal-content bg-secondary"},Je=t("div",{class:"modal-header"},[t("div",{class:"modal-title"},"Create Vault"),t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),Qe={class:"modal-body"},Xe={class:"container-fluid"},et={class:"row"},tt={class:"col-12"},st=t("div",{class:"input text-center"},"Vault Name",-1),ot=t("div",{class:"input text-center"},"Vault Description",-1),at=t("div",{class:"input text-center"},"Private Vault?",-1),nt={class:"d-flex justify-content-between align-items-center pe-2"},it=t("div",{class:"input"},"Yes",-1),ct=t("div",{class:"input"},"No",-1),rt={class:"modal-footer"},lt=["disabled"];function dt(a,e,o,s,n,r){return d(),u("div",We,[t("div",Fe,[t("div",Ze,[t("form",{onSubmit:e[4]||(e[4]=M(c=>s.CreateVault(),["prevent"]))},[Je,t("div",Qe,[t("div",Xe,[t("div",et,[t("div",tt,[st,f(t("input",{type:"text",required:"",placeholder:"Vault Name ...",class:"form-control",maxlength:"10",minlength:"1","onUpdate:modelValue":e[0]||(e[0]=c=>s.info.name=c)},null,512),[[$,s.info.name]]),ot,f(t("input",{type:"text",required:"",placeholder:"Keep Description ...",class:"form-control","onUpdate:modelValue":e[1]||(e[1]=c=>s.info.description=c),maxlength:"600",minlength:"1"},null,512),[[$,s.info.description]]),at,t("div",nt,[t("div",null,[it,f(t("input",{type:"radio",required:"",placeholder:"Keep Img...",class:"radio",value:"true","onUpdate:modelValue":e[2]||(e[2]=c=>s.info.isPrivate=c)},null,512),[[z,s.info.isPrivate]])]),t("div",null,[ct,f(t("input",{type:"radio",required:"",placeholder:"Keep Img...",class:"radio",value:"false","onUpdate:modelValue":e[3]||(e[3]=c=>s.info.isPrivate=c)},null,512),[[z,s.info.isPrivate]])])])])])])]),t("div",rt,[t("button",{class:"btn btn-success",title:"Create Vault",type:"submit",disabled:s.submitting=!1}," Submit ",8,lt)])],32)])])])}var ut=g(Ye,[["render",dt]]),_t=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ut});class vt{async getAccount(){try{const e=await v.get("/account");i.account=e.data}catch(e){_.error("HAVE YOU STARTED YOUR SERVER YET???",e)}}async editAccount(e){const o=await v.put("/account",e);i.activeUser.id==i.account.id&&(i.activeUser=o.data),i.account=o.data}}const Z=new vt;const pt={setup(){let a=K({});de(()=>{a.value=L({},i.account)});const e=K(!1);return{edit:e,accountDetails:a,account:b(()=>i.account),editToggle(){e.value=!e.value},logout(){AuthService.logout({returnTo:window.location.origin})},async editAccount(){try{await Z.editAccount(a.value),x.toast("Account Updated","success"),e.value=!1}catch(o){_.error(o.Message),x.toast(o.Message)}}}}},h=a=>(C("data-v-43eca04c"),a=a(),V(),a),mt={class:"offcanvas offcanvas-end bg-secondary",id:"EditProfileOffCanvas"},ft=h(()=>t("div",{class:"offcanvas-header"},[t("h5",{id:"offcanvasRightLabel"},"Profile Details"),t("button",{type:"button",class:"btn-close text-reset","data-bs-dismiss":"offcanvas","aria-label":"Close"})],-1)),gt={class:"offcanvas-body"},ht={class:"card h-100 bg-grey"},bt={class:"card-body"},yt={class:"row"},wt={key:0,class:"col-12"},kt={class:"row"},xt={class:"col-12"},$t={class:"d-flex justify-content-end align-items-center"},Kt=h(()=>t("i",{class:"mdi mdi-pencil"},null,-1)),Ct=G(" Edit Profile "),Vt=[Kt,Ct],Pt={class:"col-12"},At={class:"img"},Tt=["src"],St=h(()=>t("div",{class:"text-center details-title"},"Name:",-1)),Et={class:"text-center name"},It=h(()=>t("div",{class:"text-center mt-4 details-title"},"Email:",-1)),Ot={class:"text-center email"},Mt={key:1,class:"col-12"},Dt={class:"row"},Rt={class:"col-12"},Nt={class:"d-flex justify-content-end align-items-center"},jt=h(()=>t("i",{class:"mdi mdi-pencil"},null,-1)),Bt=G(" Edit Profile "),Lt=[jt,Bt],qt={class:"col-12"},Ut={class:"img"},zt=["src"],Ht=h(()=>t("div",{class:"text-center details-title"},"Name:",-1)),Gt=h(()=>t("div",{class:"text-center mt-4 details-title"}," Profile Picture: ",-1)),Yt=h(()=>t("div",{class:"col-12"},[t("button",{type:"submit",class:"btn w-100 btn-success mt-3 submit"}," Submit ")],-1)),Wt={class:"col-12"},Ft={class:"bottom"},Zt=h(()=>t("button",{class:"btn btn-info mb-2 w-100"},"Account Page",-1));function Jt(a,e,o,s,n,r){const c=y("router-link");return d(),u("div",mt,[ft,t("div",gt,[t("div",ht,[t("div",bt,[t("div",yt,[s.edit==!1?(d(),u("div",wt,[t("div",kt,[t("div",xt,[t("div",$t,[t("div",{class:"m-1 edit action",onClick:e[0]||(e[0]=l=>s.editToggle())},Vt)])]),t("div",Pt,[t("div",At,[t("img",{src:s.account.picture,alt:"",class:"elevation-3 m-3 profile-pic"},null,8,Tt)]),St,t("div",Et,m(s.account.name),1),It,t("div",Ot,m(s.account.email),1)])])])):D("",!0),s.edit==!0?(d(),u("div",Mt,[t("div",Dt,[t("div",Rt,[t("div",Nt,[t("div",{class:"m-1 edit action",onClick:e[1]||(e[1]=l=>s.editToggle())},Lt)])]),t("form",{onSubmit:e[4]||(e[4]=M(l=>s.editAccount(),["prevent"]))},[t("div",qt,[t("div",Ut,[t("img",{src:s.accountDetails.picture,alt:"",class:"elevation-3 m-3 profile-pic"},null,8,zt)]),Ht,f(t("input",{type:"text",class:"form-control text-center name","onUpdate:modelValue":e[2]||(e[2]=l=>s.accountDetails.name=l),minlength:"1",maxlength:"30"},null,512),[[$,s.accountDetails.name]]),Gt,f(t("input",{type:"text",class:"form-control text-center picture","onUpdate:modelValue":e[3]||(e[3]=l=>s.accountDetails.picture=l),minlength:"1"},null,512),[[$,s.accountDetails.picture]])]),Yt],32)])])):D("",!0),t("div",Wt,[t("div",Ft,[w(c,{to:{name:"Account",params:{accountId:s.account.id}}},{default:H(()=>[Zt]),_:1},8,["to"]),t("button",{class:"btn btn-danger w-100",onClick:e[5]||(e[5]=l=>s.logout())}," Logout ")])])])])])])])}var Qt=g(pt,[["render",Jt],["__scopeId","data-v-43eca04c"]]),Xt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Qt});const es={props:{keep:{type:Object,required:!0}},setup(a){return{KeepModal(){try{A.setActive(a.keep),F.GetMyVaults(),k.getOrCreateInstance(document.getElementById("KeepModal")).toggle()}catch(e){_.error(e),x.toast(e,"error")}}}}},ts=["src"],ss={class:"text"},os={class:"row"},as={class:"col-12"},ns={class:"d-flex justify-content-center align-items-center pb-2"},is={class:"title"},cs={class:"creator"},rs=["src"];function ls(a,e,o,s,n,r){return d(),u("div",{class:"image action",title:"See Details",onClick:e[0]||(e[0]=(...c)=>s.KeepModal&&s.KeepModal(...c))},[t("img",{src:o.keep.img,alt:"Keep Photo",class:"actual-photo rounded"},null,8,ts),t("div",ss,[t("div",os,[t("div",as,[t("div",ns,[t("div",is,m(o.keep.name),1),t("div",cs,[t("img",{src:o.keep.creator.picture,class:"creator-pic",alt:"Profile Pic"},null,8,rs)])])])])])])}var ds=g(es,[["render",ls],["__scopeId","data-v-4cc4c685"]]),us=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ds});class _s{async createVaultKeep(e){const o={};o.vaultId=e,o.keepId=i.activeKeep.id,await v.post("api/vaultkeeps",o),i.activeKeep.keeps=i.activeKeep.keeps+1,_.log("new Keeps",i.activeKeep.keeps),x.toast("Added","success")}async removeKeepFromVault(e,o){await v.delete(`api/vaultkeeps/${e}`),i.keeps=i.keeps.filter(s=>s.id!==o),x.toast("Removed from Vault")}}const vs=new _s;var J="/assets/KnightsIcon.4627aeda.jpg";const ps={setup(){const a=O();return{router:a,async addToVault(e){await vs.createVaultKeep(e)},async deleteKeep(){k.getOrCreateInstance(document.getElementById("KeepModal")).hide(),await x.confirm("Are You sure you want to delete this keep?")?await A.deleteKeep():k.getOrCreateInstance(document.getElementById("KeepModal")).toggle()},async RouteToCreatorPage(){var e;k.getOrCreateInstance(document.getElementById("KeepModal")).hide(),a.push({name:"Account",params:{accountId:(e=i.activeKeep.creator)==null?void 0:e.id}})},account:b(()=>i.account),activeKeep:b(()=>i.activeKeep),myVaults:b(()=>i.myVaults)}}},R=a=>(C("data-v-e9ff3bfa"),a=a(),V(),a),ms={class:"modal fade bd-example-modal-xl",id:"KeepModal"},fs={class:"modal-dialog bg-light modal-xl"},gs={class:"modal-content"},hs={class:"modal-body"},bs={class:"container-fluid"},ys={class:"row"},ws={class:"col-6"},ks={class:"row"},xs={class:"col-12"},$s=["src"],Ks={key:1,src:J,alt:"Image broke so here is the logo",class:"w-100 img object-fit-cover elevation-2"},Cs={class:"col-6"},Vs={class:"row"},Ps={class:"col-12"},As=R(()=>t("div",{class:"d-flex justify-content-end"},[t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),Ts={class:"d-flex justify-content-between"},Ss={class:"icons text-shadow"},Es={class:"icons text-shadow"},Is={class:"icons text-shadow"},Os={class:"col-12"},Ms={class:"title text-center text-shadow"},Ds={class:"col-12 mt-4"},Rs={class:"description text-shadow"},Ns={class:"col-12 bottom"},js={class:"d-flex align-items-bottom"},Bs={class:"dropdown"},Ls=R(()=>t("button",{class:"btn btn-success elevation-2 dropdown-toggle","data-bs-toggle":"dropdown",title:"add keep to a already created vault"}," Add to Vault ",-1)),qs={class:"dropdown-menu"},Us=["onClick"],zs=R(()=>t("i",{class:"mdi mdi-trash-can"},null,-1)),Hs=[zs],Gs={class:"mx-3 text-shadow"};function Ys(a,e,o,s,n,r){var c;return d(),u("div",ms,[t("div",fs,[t("div",gs,[t("div",hs,[t("div",bs,[t("div",ys,[t("div",ws,[t("div",ks,[t("div",xs,[s.activeKeep.img!="{{editKeepImg}}"?(d(),u("img",{key:0,src:s.activeKeep.img,class:"w-100 img elevation-2",alt:"Image of the Keep"},null,8,$s)):(d(),u("img",Ks))])])]),t("div",Cs,[t("div",Vs,[t("div",Ps,[As,t("div",Ts,[t("div",Ss," Views: "+m(s.activeKeep.views),1),t("div",Es," Stored: "+m(s.activeKeep.keeps),1),t("div",Is," Shares: "+m(s.activeKeep.shares),1)])]),t("div",Os,[t("div",Ms,m(s.activeKeep.name),1)]),t("div",Ds,[t("p",Rs,m(s.activeKeep.description),1)]),t("div",Ns,[t("div",js,[t("div",Bs,[Ls,t("ul",qs,[(d(!0),u(q,null,ue(s.myVaults,l=>(d(),u("li",{class:"dropdown-item action",key:l.id,onClick:T=>s.addToVault(l.id),title:"Add keep to vault"},m(l.name),9,Us))),128))])]),s.activeKeep.creatorId==s.account.id?(d(),u("button",{key:0,class:"btn btn-danger ms-2 elevation-2 text-light",onClick:e[0]||(e[0]=l=>s.deleteKeep()),title:"Delete this keep"},Hs)):D("",!0),t("button",{class:"btn selectable bg-dark p-1 elevation-2 rounded ms-2",title:"View the creator's page!",onClick:e[1]||(e[1]=l=>s.RouteToCreatorPage())},[t("span",Gs," Creator: "+m((c=s.activeKeep.creator)==null?void 0:c.name),1)])])])])])])])])])])])}var Ws=g(ps,[["render",Ys],["__scopeId","data-v-e9ff3bfa"]]),Fs=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Ws});const Zs={setup(){}},Js=a=>(C("data-v-7f977a92"),a=a(),V(),a),Qs={class:"row"},Xs=Js(()=>t("div",{class:"col-12"},[t("div",{class:"h-100vh"},[t("div",{class:"d-flex justify-content-center align-items-center"},[t("i",{class:"mdi mdi-loading mdi-spin spinner"})])])],-1)),eo=[Xs];function to(a,e,o,s,n,r){return d(),u("div",Qs,eo)}var so=g(Zs,[["render",to],["__scopeId","data-v-7f977a92"]]),oo=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:so});const ao="modulepreload",Q={},no="/",E=function(e,o){return!o||o.length===0?e():Promise.all(o.map(s=>{if(s=`${no}${s}`,s in Q)return;Q[s]=!0;const n=s.endsWith(".css"),r=n?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${s}"]${r}`))return;const c=document.createElement("link");if(c.rel=n?"stylesheet":ao,n||(c.as="script",c.crossOrigin=""),c.href=s,document.head.appendChild(c),n)return new Promise((l,T)=>{c.addEventListener("load",l),c.addEventListener("error",T)})})).then(()=>e())};function io(a){switch(a){case"./pages/AboutPage.vue":return E(()=>import("./AboutPage.838c5142.js"),["assets/AboutPage.838c5142.js","assets/vendor.2a972c33.js"]);case"./pages/AccountPage.vue":return E(()=>import("./AccountPage.72ea2743.js"),["assets/AccountPage.72ea2743.js","assets/AccountPage.bc6bb2a3.css","assets/vendor.2a972c33.js","assets/ResetService.6fdd23e1.js"]);case"./pages/HomePage.vue":return E(()=>import("./HomePage.e5421bd2.js"),["assets/HomePage.e5421bd2.js","assets/HomePage.5e31dff6.css","assets/vendor.2a972c33.js","assets/ResetService.6fdd23e1.js"]);case"./pages/VaultPage.vue":return E(()=>import("./VaultPage.13f9a06c.js"),["assets/VaultPage.13f9a06c.js","assets/VaultPage.4982d39f.css","assets/vendor.2a972c33.js","assets/ResetService.6fdd23e1.js"]);default:return new Promise(function(e,o){(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(o.bind(null,new Error("Unknown variable dynamic import: "+a)))})}}function I(a){return()=>io(`./pages/${a}.vue`)}const co=[{path:"/",name:"Home",component:I("HomePage")},{path:"/about",name:"About",component:I("AboutPage")},{path:"/vault/:vaultId",name:"Vault",component:I("VaultPage"),beforeEnter:pe},{path:"/account/:accountId",name:"Account",component:I("AccountPage"),beforeEnter:me}],X=_e({linkActiveClass:"router-link-active",linkExactActiveClass:"router-link-exact-active",history:ve(),routes:co}),ro={connection:"connection",connected:"connected",disconnect:"disconnect",authenticate:"authenticate",authenticated:"authenticated",userConnected:"userConnected",userDisconnected:"userDisconnected",error:"error"};class lo{constructor(e=!1,o=W){}on(e,o){var s;return(s=this.socket)==null||s.on(e,o.bind(this)),this}onConnected(e){_.log("[SOCKET_CONNECTION]",e),this.connected=!0,this.playback()}onAuthenticated(e){_.log("[SOCKET_AUTHENTICATED]",e),this.authenticated=!0,this.playback()}authenticate(e){var o;(o=this.socket)==null||o.emit(ro.authenticate,e)}onError(e){_.error("[SOCKET_ERROR]",e)}enqueue(e,o){_.log("[ENQUEING_ACTION]",{action:e,payload:o}),this.queue.push({action:e,payload:o})}playback(){_.log("[SOCKET_PLAYBACK]");const e=[...this.queue];this.queue=[],e.forEach(o=>{this.emit(o.action,o.payload)})}emit(e,o=void 0){if(this.requiresAuth&&!this.authenticated)return this.enqueue(e,o);if(!this.connected)return this.enqueue(e,o);this.socket.emit(e,o)}}class uo extends lo{constructor(){super();this.on("error",this.onError)}onError(e){x.toast(e.message,"error")}}const ee=new uo,p=fe({domain:Ke,clientId:Ce,audience:Ve,useRefreshTokens:!0,onRedirectCallback:a=>{X.push(a&&a.targetUrl?a.targetUrl:window.location.pathname)}});p.on(p.AUTH_EVENTS.AUTHENTICATED,async function(){v.defaults.headers.authorization=p.bearer,v.interceptors.request.use(_o),i.user=p.user,await Z.getAccount(),ee.authenticate(p.bearer)});async function _o(a){if(!p.isAuthenticated)return a;const e=p.identity.exp*1e3,o=e<Date.now(),s=e<Date.now()+1e3*60*60*12;return o?await p.loginWithPopup():s&&(await p.getTokenSilently(),v.defaults.headers.authorization=p.bearer,ee.authenticate(p.bearer)),a}const vo={setup(){return{user:b(()=>i.user),account:b(()=>i.account),editProfile(){ge.getOrCreateInstance(document.getElementById("EditProfileOffCanvas")).toggle()},CreateKeep(){k.getOrCreateInstance(document.getElementById("CreateKeep")).toggle()},async login(){p.loginWithPopup()},async logout(){p.logout({returnTo:window.location.origin})}}}},N=a=>(C("data-v-974f2ef0"),a=a(),V(),a),po={class:"navbar navbar-expand-lg navbar-dark bg-primary px-3"},mo=N(()=>t("div",{class:"d-flex align-items-center"},[t("img",{alt:"logo",src:J,height:"40",class:"rounded elevation-2"}),t("span",{class:"mx-3 text-shadow lighten-25 text-uppercase"},"Vault Keeper")],-1)),fo=N(()=>t("div",{class:"collapse navbar-collapse",id:"navbarText"},null,-1)),go={class:"navbar-text pe-3"},ho={key:1,class:"dropdown my-2 my-lg-0 dropstart"},bo=["src"],yo={class:"mx-3 text-success lighten-30 text-shadow"},wo=N(()=>t("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarText","aria-controls":"navbarText","aria-expanded":"false","aria-label":"Toggle navigation"},[t("span",{class:"navbar-toggler-icon"})],-1));function ko(a,e,o,s,n,r){const c=y("router-link");return d(),u("nav",po,[w(c,{class:"navbar-brand d-flex",title:"Route to the Home Page",to:{name:"Home"}},{default:H(()=>[mo]),_:1}),fo,t("span",go,[s.user.isAuthenticated?(d(),u("div",ho,[t("div",{class:"selectable bg-dark p-1 rounded elevation-2",onClick:e[1]||(e[1]=(...l)=>s.editProfile&&s.editProfile(...l))},[t("img",{src:s.account.picture,alt:"user photo",height:"40",class:"rounded profile-pic"},null,8,bo),t("span",yo,m(s.account.name),1)])])):(d(),u("button",{key:0,class:"btn btn-outline-warning text-shadow selectable text-success lighten-30 text-uppercase my-2 my-lg-0",onClick:e[0]||(e[0]=(...l)=>s.login&&s.login(...l))}," Login "))]),wo])}var xo=g(vo,[["render",ko],["__scopeId","data-v-974f2ef0"]]),$o=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:xo});const Ko={props:{vault:{type:Object,required:!0}},setup(a){const e=O();return{router:e,VaultPage(){e.push({name:"Vault",params:{vaultId:a.vault.id}})}}}},Co={class:"card-body p-3"},Vo={class:"col-12"},Po={class:"vault-title text-shadow text-center"},Ao={class:"col-12"},To={key:0,class:"card bg-danger p-2 mt-2 isPrivate text-center text-light text-shadow"},So={key:1,class:"card bg-warning p-2 mt-2 isPrivate text-center text-light text-shadow"};function Eo(a,e,o,s,n,r){return d(),u("div",{class:"card elevation-2 bg-dark m-2 action",title:"Go To This Vault's Page",onClick:e[0]||(e[0]=c=>s.VaultPage())},[t("div",Co,[t("div",Vo,[t("div",Po,[t("b",null,m(o.vault.name),1)])]),t("div",Ao,[o.vault.isPrivate?(d(),u("div",To," Private ")):(d(),u("div",So," Public "))])])])}var Io=g(Ko,[["render",Eo],["__scopeId","data-v-47d07d62"]]),Oo=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Io});function Mo(a){Object.entries({"./components/CreateKeepModal.vue":Ge,"./components/CreateVaultModal.vue":_t,"./components/Edit-Profile-Offcanvas.vue":Xt,"./components/Keep.vue":us,"./components/KeepModal.vue":Fs,"./components/Loading.vue":oo,"./components/Navbar.vue":$o,"./components/Vault.vue":Oo}).forEach(([o,s])=>{const n=s.name||o.substr(o.lastIndexOf("/")+1).replace(/\.\w+$/,"");a.component(n,s.default)})}const te=he($e);Mo(te);te.use(X).mount("#app");export{i as A,x as P,g as _,v as a,vs as b,A as k,_ as l,F as v};
